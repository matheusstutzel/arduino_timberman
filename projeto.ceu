#include "arduino/arduino.ceu"

#define trataBT(PIN,value) \
loop do \
			var int on = await PIN until on==LOW;\
			await 20ms;\
			move(value);\
			if(collision()){\
				final=value;\
				break;\
			}\
		end

loop do
	_start();
	par/or do
        	loop do
			_update();
			_draw();
			await 16ms;
		end
	with
		trataBT(PIN_02,-1);
	with
		trataBT(PIN_03,1);
	end

	par/or do
		loop do 
			_draw_game_over();
	
		end
	with
		var int on = await PIN_RST until on==LOW;	
	end
end
		
